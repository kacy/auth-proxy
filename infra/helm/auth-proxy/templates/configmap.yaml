apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "auth-proxy.configMapName" . }}
  labels:
    {{- include "auth-proxy.labels" . | nindent 4 }}
data:
  HTTP_PORT: {{ .Values.config.httpPort | quote }}
  METRICS_PORT: {{ .Values.config.metricsPort | quote }}
  SERVER_READ_TIMEOUT: {{ .Values.config.serverReadTimeout | quote }}
  SERVER_WRITE_TIMEOUT: {{ .Values.config.serverWriteTimeout | quote }}
  SERVER_IDLE_TIMEOUT: {{ .Values.config.serverIdleTimeout | quote }}
  GOTRUE_TIMEOUT: {{ .Values.config.gotrueTimeout | quote }}
  ENVIRONMENT: {{ .Values.config.environment | quote }}
  LOG_LEVEL: {{ .Values.config.logLevel | quote }}
  LOG_REQUEST_BODIES: {{ .Values.config.logRequestBodies | quote }}
  REQUIRE_API_KEY: {{ .Values.config.requireApiKey | quote }}
  ATTESTATION_IOS_ENABLED: {{ .Values.config.attestation.iosEnabled | quote }}
  ATTESTATION_ANDROID_ENABLED: {{ .Values.config.attestation.androidEnabled | quote }}
  ATTESTATION_REQUIRE_STRONG_INTEGRITY: {{ .Values.config.attestation.requireStrongIntegrity | quote }}
  ATTESTATION_CHALLENGE_TIMEOUT: {{ .Values.config.attestation.challengeTimeout | quote }}
  REDIS_ENABLED: {{ .Values.config.redis.enabled | quote }}
  REDIS_DB: {{ .Values.config.redis.db | quote }}
  REDIS_KEY_PREFIX: {{ .Values.config.redis.keyPrefix | quote }}
