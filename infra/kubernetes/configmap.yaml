apiVersion: v1
kind: ConfigMap
metadata:
  name: auth-proxy-config
  namespace: auth-proxy
  labels:
    app: auth-proxy
data:
  HTTP_PORT: "8080"
  METRICS_PORT: "9090"
  SERVER_READ_TIMEOUT: "10s"
  SERVER_WRITE_TIMEOUT: "30s"
  SERVER_IDLE_TIMEOUT: "60s"
  GOTRUE_TIMEOUT: "30s"
  ENVIRONMENT: "production"
  LOG_LEVEL: "info"
  LOG_REQUEST_BODIES: "false"
  # Security - require clients to send anon key in apikey header
  REQUIRE_API_KEY: "true"
  ATTESTATION_ENABLED: "false"
  ATTESTATION_REQUIRE_STRONG_INTEGRITY: "false"
  ATTESTATION_CHALLENGE_TIMEOUT: "5m"
  # Redis for distributed attestation state (required for multi-replica with attestation)
  REDIS_ENABLED: "false"
  REDIS_DB: "0"
  REDIS_KEY_PREFIX: "authproxy:"
